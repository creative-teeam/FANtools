<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>子どもの特性・配慮ガイド</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>子どもの特性・配慮ガイド（演劇・ワークショップ向け）</h1>
    <p>病名・障害・特性の一覧と、それに対応するチェックリストや対応表を管理できます。</p>
  </header>

  <main>
    <!-- 0. 病名・障害・特性 一覧＆追加 -->
    <section class="card">
      <h2>0. 病名・障害・特性 一覧（随時追加）</h2>
      <p>
        対象となる病名・障害・特性を一覧として管理します。<br />
        右側のフォームから新しい項目を追加できます。
      </p>

      <div class="flex-row">
        <!-- 左：一覧 -->
        <div class="list-block">
          <h3>登録済みリスト</h3>
          <ul id="diagnosisList" class="item-list">
            <!-- JSで追加 -->
          </ul>
        </div>

        <!-- 右：追加フォーム -->
        <div class="form-block">
          <h3>新しい病名・障害・特性を追加</h3>
          <label for="diagName">名前（必須）：</label>
          <input
            type="text"
            id="diagName"
            placeholder="例：自閉スペクトラム症（ASD）、ADHD、学習障害 など"
          />

          <label for="diagNotes">
            現時点で分かっている情報・配慮のメモ（任意）：
          </label>
          <textarea
            id="diagNotes"
            rows="4"
            placeholder="例：大きな音が苦手／女の子との距離感に注意／発作時は保護者に連絡 など"
          ></textarea>

          <button id="addDiagnosisBtn">一覧に追加</button>
        </div>
      </div>

      <div id="diagnosisDetail" class="info-block hidden">
        <div class="info-section-title">選択された病名・障害・特性のメモ</div>
        <p id="diagnosisDetailName"></p>
        <div id="diagnosisDetailNotes"></div>
        <p class="small-text">
          ※ここに書かれた内容は、現場で共有したいメモとして使ってください。<br />
          医療的な判断や正式な支援内容は、必ず保護者・専門家に確認してください。
        </p>
      </div>
    </section>

    <!-- 1. 対応表・チェックリスト 一覧＆追加 -->
    <section class="card">
      <h2>1. 対応表・チェックリスト（随時追加）</h2>
      <p>
        「どんな状況のときに」「どんな対応をするか」を項目ごとに登録できます。<br />
        重要度（danger / support / medical など）も一緒に記録しておくと便利です。
      </p>

      <div class="flex-row">
        <!-- 左：対応表一覧 -->
        <div class="list-block">
          <h3>登録済みの対応・チェック項目</h3>
          <ul id="responseList" class="item-list">
            <!-- JSで追加 -->
          </ul>
        </div>

        <!-- 右：追加フォーム -->
        <div class="form-block">
          <h3>新しい対応・チェック項目を追加</h3>
          <label for="respTitle">項目名（必須）：</label>
          <input
            type="text"
            id="respTitle"
            placeholder="例：大きな音が苦手な子への配慮"
          />

          <label for="respBody">
            内容・具体的な対応（必須）：
          </label>
          <textarea
            id="respBody"
            rows="4"
            placeholder="例：音出しの前に必ず予告する／耳栓OKにする／しんどそうなら一時退室を認める など"
          ></textarea>

          <label for="respLevel">
            重要度・種類（任意）：
          </label>
          <select id="respLevel">
            <option value="">未指定</option>
            <option value="danger">danger（安全上の危険）</option>
            <option value="support">support（見守り・配慮）</option>
            <option value="medical">medical（医療・健康面）</option>
          </select>

          <button id="addResponseBtn">対応表に追加</button>
        </div>
      </div>

      <div id="responseDetail" class="info-block hidden">
        <div class="info-section-title">選択された対応・チェック項目の詳細</div>
        <p id="responseDetailTitle"></p>
        <div id="responseDetailBody"></div>
        <p id="responseDetailLevel" class="small-text"></p>
      </div>
    </section>

    <!-- 2. 親の付き添い必須ラインチェックリスト（汎用） -->
    <section class="card">
      <h2>2. 親の付き添い必須ラインチェックリスト（汎用）</h2>
      <p>
        日常生活と学校生活の様子をもとに、付き添いが必要かどうかの目安を確認します。<br />
        0・1で登録した内容も参考にしながら使ってください。
      </p>

      <div class="checklist-container">
        <div class="checklist-block">
          <h3>日常生活での様子</h3>
          <form id="dailyChecklist">
            <label>
              <input type="checkbox" name="daily" value="danger" />
              目を離すとすぐにどこかへ行ってしまう・迷子になりやすい
            </label>
            <label>
              <input type="checkbox" name="daily" value="danger" />
              危険な場所（道路・高いところ・台所など）に繰り返し行ってしまう
            </label>
            <label>
              <input type="checkbox" name="daily" value="support" />
              知らない人との距離感が近すぎる・身体に触ってしまう
            </label>
            <label>
              <input type="checkbox" name="daily" value="support" />
              強いこだわりやパニックがあり、家族でないと落ち着かせるのが難しい
            </label>
            <label>
              <input type="checkbox" name="daily" value="medical" />
              発作やアレルギーなど、医療的な緊急対応が必要になる可能性がある
            </label>
          </form>
        </div>

        <div class="checklist-block">
          <h3>学校生活・集団活動での様子</h3>
          <form id="schoolChecklist">
            <label>
              <input type="checkbox" name="school" value="support" />
              授業中に席を立って歩き回ることがよくある
            </label>
            <label>
              <input type="checkbox" name="school" value="support" />
              先生から「1対1のサポートがあると安心」と言われている
            </label>
            <label>
              <input type="checkbox" name="school" value="danger" />
              他の子を押す・叩く・強く抱きつくなどの行動が繰り返し見られる
            </label>
            <label>
              <input type="checkbox" name="school" value="support" />
              からかわれやすい／トラブルに巻き込まれやすいと言われている
            </label>
            <label>
              <input type="checkbox" name="school" value="medical" />
              学校で医療的ケア（発作対応・エピペン・吸入など）の準備をしている
            </label>
          </form>
        </div>
      </div>

      <button id="evaluateChecklist">付き添いの必要度を判定</button>
      <div id="checklistResult" class="info-block hidden"></div>
    </section>

    <!-- 3. その場の対応フロー（汎用） -->
    <section class="card">
      <h2>3. その場の対応フロー（汎用）</h2>
      <p>トラブルや心配な行動が出たときに、状況に応じて流れを確認できます。</p>

      <label for="incidentType">状況を選んでください：</label>
      <select id="incidentType">
        <option value="">選択してください</option>
        <option value="immediateDanger">
          身体の危険がある（押す・叩く・走り出す・危険な場所）
        </option>
        <option value="psychological">
          他の子が怖がっている・強い不安を感じている
        </option>
        <option value="ruleBreak">
          ルール違反が何度も続いている
        </option>
        <option value="medicalEmergency">
          発作・アレルギー症状など医療的な緊急事態
        </option>
      </select>

      <div id="incidentFlow" class="info-block hidden"></div>
    </section>

    <!-- 4. メモ欄 -->
    <section class="card">
      <h2>4. メモ欄（団体ごとのルール・気づきの記録）</h2>
      <p>
        稽古や本番で気づいたこと、保護者と話して決めたルールなどを自由にメモしてください。<br />
        ※ブラウザを閉じると消えるので、必要に応じてコピーして他の場所に保存してください。
      </p>
      <label for="freeMemo">自由メモ：</label>
      <textarea
        id="freeMemo"
        rows="6"
        placeholder="例：〇月〇日 初参加。○○の場面でパニックになりかけたが、□□の声かけで落ち着いた。次回も同じ対応を試してみる。"
      ></textarea>
    </section>
  </main>

  <footer>
    <p>
      ※このツールは現場スタッフの話し合いのたたき台として設計されています。
      実際の運用は必ず団体内で検討・調整してください。
    </p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
