<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>子どもの特性・配慮ガイド</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>子どもの特性・配慮ガイド（演劇・ワークショップ向け）</h1>
    <p>障害や病気の特性に応じた基本対策・リスク・チェックリスト・対応フローを確認できます。</p>
  </header>

  <main>
    <!-- 0. 想定外の障害・特性の検索欄（全体用） -->
    <section class="card">
      <h2>0. 想定外の障害・特性に対する検索</h2>
      <p>
        ここに診断名・特性名・キーワードなどを自由入力してください。<br />
        例：<span class="example-text">「感覚過敏」「境界知能」「行動障害」「選択性緘黙」など</span>
      </p>
      <label for="globalFreeSearch">自由入力（診断名・特性・気になるキーワードなど）：</label>
      <input
        type="text"
        id="globalFreeSearch"
        placeholder="例：感覚過敏、選択性緘黙、境界知能 など"
      />
      <button id="globalFreeSearchBtn">ヒントを表示</button>

      <div id="globalFreeSearchResult" class="info-block hidden"></div>
    </section>

    <!-- 1. 障害・病気を選ぶセクション -->
    <section class="card">
      <h2>1. 障害・病気・特性を選ぶ</h2>
      <p>該当するものを選択してください（複数あれば順番に確認してください）。</p>

      <label for="conditionSelect">障害・病気・特性：</label>
      <select id="conditionSelect">
        <option value="">選択してください</option>
        <option value="asd">自閉スペクトラム症（ASD）</option>
        <option value="adhd">ADHD（注意欠如・多動症）</option>
        <option value="intellectual">知的障害</option>
        <option value="epilepsy">てんかん</option>
        <option value="allergy">重度アレルギー（食物・薬・ハチなど）</option>
        <option value="mental">不安障害・うつなどのメンタル面の課題</option>
        <option value="none">特に診断名はないが、配慮が必要そう</option>
      </select>

      <div id="conditionInfo" class="info-block hidden">
        <h3>基本情報・対策・リスク</h3>
        <div id="basicMeasures"></div>
        <div id="risks"></div>
        <div id="specialMeasures"></div>

        <!-- この子に特有の想定外特性の検索欄 -->
        <div class="free-search-section">
          <div class="info-section-title">この子に特有の「想定外の特性」や心配ごと</div>
          <p class="small-text">
            例：<span class="example-text">「男の子だけに近づく」「女の子の後ろに立つ」「大きな声が極端に苦手」など</span><br />
            キーワードを入れると、個別の見守りポイントのヒントを表示します。
          </p>
          <label for="conditionFreeSearch">特性・行動キーワード：</label>
          <input
            type="text"
            id="conditionFreeSearch"
            placeholder="例：女の子の後ろに立つ、距離感が近い など"
          />
          <button id="conditionFreeSearchBtn">ヒントを表示</button>
          <div id="conditionFreeSearchResult" class="info-block inner hidden"></div>
        </div>
      </div>
    </section>

    <!-- 2. 親の付き添い必須ラインチェックリスト -->
    <section class="card">
      <h2>2. 親の付き添い必須ラインチェックリスト</h2>
      <p>日常生活と学校生活の様子をもとに、付き添いが必要かどうかの目安を確認します。</p>

      <div class="checklist-container">
        <div class="checklist-block">
          <h3>日常生活での様子</h3>
          <form id="dailyChecklist">
            <label>
              <input type="checkbox" name="daily" value="danger" />
              目を離すとすぐにどこかへ行ってしまう・迷子になりやすい
            </label>
            <label>
              <input type="checkbox" name="daily" value="danger" />
              危険な場所（道路・高いところ・台所など）に繰り返し行ってしまう
            </label>
            <label>
              <input type="checkbox" name="daily" value="support" />
              知らない人との距離感が近すぎる・身体に触ってしまう
            </label>
            <label>
              <input type="checkbox" name="daily" value="support" />
              強いこだわりやパニックがあり、家族でないと落ち着かせるのが難しい
            </label>
            <label>
              <input type="checkbox" name="daily" value="medical" />
              発作やアレルギーなど、医療的な緊急対応が必要になる可能性がある
            </label>
          </form>
        </div>

        <div class="checklist-block">
          <h3>学校生活・集団活動での様子</h3>
          <form id="schoolChecklist">
            <label>
              <input type="checkbox" name="school" value="support" />
              授業中に席を立って歩き回ることがよくある
            </label>
            <label>
              <input type="checkbox" name="school" value="support" />
              先生から「1対1のサポートがあると安心」と言われている
            </label>
            <label>
              <input type="checkbox" name="school" value="danger" />
              他の子を押す・叩く・強く抱きつくなどの行動が繰り返し見られる
            </label>
            <label>
              <input type="checkbox" name="school" value="support" />
              からかわれやすい／トラブルに巻き込まれやすいと言われている
            </label>
            <label>
              <input type="checkbox" name="school" value="medical" />
              学校で医療的ケア（発作対応・エピペン・吸入など）の準備をしている
            </label>
          </form>
        </div>
      </div>

      <button id="evaluateChecklist">付き添いの必要度を判定</button>
      <div id="checklistResult" class="info-block hidden"></div>

      <!-- チェックリスト用 想定外の事態フリーワード -->
      <div class="free-search-section">
        <div class="info-section-title">チェックリストでは拾いきれない「想定外の事態」</div>
        <p class="small-text">
          例：<span class="example-text">「特定の子だけを執拗に追いかける」「急に叫ぶ」「特定の音でパニックになる」など</span>
        </p>
        <label for="checklistFreeSearch">気になっている行動・状況：</label>
        <input
          type="text"
          id="checklistFreeSearch"
          placeholder="例：特定の子だけを追いかける、音に極端に反応する など"
        />
        <button id="checklistFreeSearchBtn">ヒントを表示</button>
        <div id="checklistFreeSearchResult" class="info-block inner hidden"></div>
      </div>
    </section>

    <!-- 3. その場の対応フロー -->
    <section class="card">
      <h2>3. その場の対応フロー</h2>
      <p>トラブルや心配な行動が出たときに、状況に応じて流れを確認できます。</p>

      <label for="incidentType">状況を選んでください：</label>
      <select id="incidentType">
        <option value="">選択してください</option>
        <option value="immediateDanger">身体の危険がある（押す・叩く・走り出す・危険な場所）</option>
        <option value="psychological">他の子が怖がっている・強い不安を感じている</option>
        <option value="ruleBreak">ルール違反が何度も続いている</option>
        <option value="medicalEmergency">発作・アレルギー症状など医療的な緊急事態</option>
      </select>

      <div id="incidentFlow" class="info-block hidden"></div>

      <!-- 対応フロー用 想定外の事態フリーワード -->
      <div class="free-search-section">
        <div class="info-section-title">メニューにない「具体的な状況キーワード」</div>
        <p class="small-text">
          例：<span class="example-text">「男の子だけを追い回す」「急に土下座する」「大声で笑い続ける」など</span><br />
          状況をキーワードで入れてください。
        </p>
        <label for="incidentFreeSearch">具体的な状況キーワード：</label>
        <input
          type="text"
          id="incidentFreeSearch"
          placeholder="例：女の子の後ろに立ち続ける、大声で笑い続ける など"
        />
        <button id="incidentFreeSearchBtn">ヒントを表示</button>
        <div id="incidentFreeSearchResult" class="info-block inner hidden"></div>
      </div>
    </section>
  </main>

  <footer>
    <p>※このツールは現場スタッフの話し合いのたたき台として設計されています。実際の運用は必ず団体内で検討・調整してください。</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
